(ns bling.fonts
  (:require [clojure.string :as string]))

(declare ascii-chars)

(def sr string/replace)

(defn- clean-char-str [s trim?]
  (sr (if trim?
        (sr s #"@" "")
        (string/trim (sr s #"@" "")))
      #"^\n|\n +$"
      ""))

(defn font-char-height [m n]
  (when-let [char-bands (some-> m
                                :chars-vec
                                (nth n nil)
                                (string/split #"\n"))]
    (when (seq char-bands)
      (count char-bands))))

(defn- font-map 
    "To be used at the repl for generating the map values in bling.fonts/fonts"
    [font-str]
    (let [indexed-chars (map-indexed (fn [i s] [i s]) (string/split font-str #"@@"))

          m             (reduce (fn [{:keys [chars-vec max-char-width widest-char]}
                                     [i s]]
                                  (let [clean-char-str  (when (pos? i) 
                                                          (clean-char-str s true))
                                        char-band-width (some->> clean-char-str 
                                                                 (re-find #"^.+\n")
                                                                 count
                                                                 dec)]
                    ;; (println i)
                    ;; (println (str "\"" (nth ascii-chars i) "\""))
                    ;; (println clean-char-str)
                                    {:max-char-width (or (some->> char-band-width
                                                                  (max max-char-width))
                                                         max-char-width)
                                     :widest-char    (if (some->> char-band-width
                                                                  (< max-char-width))
                                                       (nth ascii-chars i)
                                                       widest-char)
                                     :chars-vec      (if (pos? i)
                                                       (conj chars-vec
                                                             (nth ascii-chars i)
                                                             clean-char-str)
                                                       chars-vec)})
                                  
                                  )
                                {:max-char-height 0
                                 :max-width-char  ""
                                 :max-height-char ""
                                 :max-char-width  0
                                 :chars-vec       []}
                                indexed-chars)
          
          char-height   (or (font-char-height m 65)
                            (font-char-height m 97))

          ret           (-> m
                            (dissoc :chars-vec)
                            (assoc :char-height
                                   char-height
                                   :chars-array-map
                                   (apply array-map (:chars-vec m)))) ]
      ret))

;; (def ^{:default "ANSI Shadow"}
;;   fonts 
;;   {
;;    "ANSI Shadow" (font-map ansi-shadow-str)
;;    "Big Money-nw" (font-map big-money-nw-font)
;;    })
;; (? fonts)
(def ^{:default "ANSI Shadow"} fonts
  {"ANSI Shadow"  {:max-char-width  11,
                   :widest-char     "M",
                   :char-height     6,
                   :chars-array-map {"!" "██╗\n██║\n██║\n╚═╝\n██╗\n╚═╝",
                                     "\"" "\n\n\n\n\n\n",
                                     "#" " ██╗ ██╗ \n████████╗\n╚██╔═██╔╝\n████████╗\n╚██╔═██╔╝\n ╚═╝ ╚═╝ ",
                                     "$" "▄▄███▄▄·\n██╔════╝\n███████╗\n╚════██║\n███████║\n╚═▀▀▀══╝",
                                     "%" "██╗ ██╗\n╚═╝██╔╝\n  ██╔╝ \n ██╔╝  \n██╔╝██╗\n╚═╝ ╚═╝",
                                     "&" "   ██╗   \n   ██║   \n████████╗\n██╔═██╔═╝\n██████║  \n╚═════╝  ",
                                     "'" "\n\n\n\n\n\n",
                                     "(" " ██╗\n██╔╝\n██║ \n██║ \n╚██╗\n ╚═╝",
                                     ")" "██╗ \n╚██╗\n ██║\n ██║\n██╔╝\n╚═╝ ",
                                     "*" "      \n▄ ██╗▄\n ████╗\n▀╚██╔▀\n  ╚═╝ \n      ",
                                     "+" "\n\n\n\n\n\n",
                                     "," "   \n   \n   \n   \n▄█╗\n╚═╝",
                                     "-" "      \n      \n█████╗\n╚════╝\n      \n      ",
                                     "." "   \n   \n   \n   \n██╗\n╚═╝",
                                     "/" "    ██╗\n   ██╔╝\n  ██╔╝ \n ██╔╝  \n██╔╝   \n╚═╝    ",
                                     "0" " ██████╗ \n██╔═████╗\n██║██╔██║\n████╔╝██║\n╚██████╔╝\n ╚═════╝ ",
                                     "1" " ██╗\n███║\n╚██║\n ██║\n ██║\n ╚═╝",
                                     "2" "██████╗ \n╚════██╗\n █████╔╝\n██╔═══╝ \n███████╗\n╚══════╝",
                                     "3" "██████╗ \n╚════██╗\n █████╔╝\n ╚═══██╗\n██████╔╝\n╚═════╝ ",
                                     "4" "██╗  ██╗\n██║  ██║\n███████║\n╚════██║\n     ██║\n     ╚═╝",
                                     "5" "███████╗\n██╔════╝\n███████╗\n╚════██║\n███████║\n╚══════╝",
                                     "6" " ██████╗ \n██╔════╝ \n███████╗ \n██╔═══██╗\n╚██████╔╝\n ╚═════╝ ",
                                     "7" "███████╗\n╚════██║\n    ██╔╝\n   ██╔╝ \n   ██║  \n   ╚═╝  ",
                                     "8" " █████╗ \n██╔══██╗\n╚█████╔╝\n██╔══██╗\n╚█████╔╝\n ╚════╝ ",
                                     "9" " █████╗ \n██╔══██╗\n╚██████║\n ╚═══██║\n █████╔╝\n ╚════╝ ",
                                     ":" "   \n██╗\n╚═╝\n██╗\n╚═╝\n   ",
                                     ";" "   \n██╗\n╚═╝\n▄█╗\n▀═╝\n   ",
                                     "<" "  ██╗\n ██╔╝\n██╔╝ \n╚██╗ \n ╚██╗\n  ╚═╝",
                                     "=" "\n\n\n\n\n\n",
                                     ">" "██╗  \n╚██╗ \n ╚██╗\n ██╔╝\n██╔╝ \n╚═╝  ",
                                     "?" "██████╗ \n╚════██╗\n  ▄███╔╝\n  ▀▀══╝ \n  ██╗   \n  ╚═╝   ",
                                     "@" " ██████╗ \n██╔═══██╗\n██║██╗██║\n██║██║██║\n╚█║████╔╝\n ╚╝╚═══╝ ",
                                     "A" " █████╗ \n██╔══██╗\n███████║\n██╔══██║\n██║  ██║\n╚═╝  ╚═╝",
                                     "B" "██████╗ \n██╔══██╗\n██████╔╝\n██╔══██╗\n██████╔╝\n╚═════╝ ",
                                     "C" " ██████╗\n██╔════╝\n██║     \n██║     \n╚██████╗\n ╚═════╝",
                                     "D" "██████╗ \n██╔══██╗\n██║  ██║\n██║  ██║\n██████╔╝\n╚═════╝ ",
                                     "E" "███████╗\n██╔════╝\n█████╗  \n██╔══╝  \n███████╗\n╚══════╝",
                                     "F" "███████╗\n██╔════╝\n█████╗  \n██╔══╝  \n██║     \n╚═╝     ",
                                     "G" " ██████╗ \n██╔════╝ \n██║  ███╗\n██║   ██║\n╚██████╔╝\n ╚═════╝ ",
                                     "H" "██╗  ██╗\n██║  ██║\n███████║\n██╔══██║\n██║  ██║\n╚═╝  ╚═╝",
                                     "I" "██╗\n██║\n██║\n██║\n██║\n╚═╝",
                                     "J" "     ██╗\n     ██║\n     ██║\n██   ██║\n╚█████╔╝\n ╚════╝ ",
                                     "K" "██╗  ██╗\n██║ ██╔╝\n█████╔╝ \n██╔═██╗ \n██║  ██╗\n╚═╝  ╚═╝",
                                     "L" "██╗     \n██║     \n██║     \n██║     \n███████╗\n╚══════╝",
                                     "M" "███╗   ███╗\n████╗ ████║\n██╔████╔██║\n██║╚██╔╝██║\n██║ ╚═╝ ██║\n╚═╝     ╚═╝",
                                     "N" "███╗   ██╗\n████╗  ██║\n██╔██╗ ██║\n██║╚██╗██║\n██║ ╚████║\n╚═╝  ╚═══╝",
                                     "O" " ██████╗ \n██╔═══██╗\n██║   ██║\n██║   ██║\n╚██████╔╝\n ╚═════╝ ",
                                     "P" "██████╗ \n██╔══██╗\n██████╔╝\n██╔═══╝ \n██║     \n╚═╝     ",
                                     "Q" " ██████╗ \n██╔═══██╗\n██║   ██║\n██║▄▄ ██║\n╚██████╔╝\n ╚══▀▀═╝ ",
                                     "R" "██████╗ \n██╔══██╗\n██████╔╝\n██╔══██╗\n██║  ██║\n╚═╝  ╚═╝",
                                     "S" "███████╗\n██╔════╝\n███████╗\n╚════██║\n███████║\n╚══════╝",
                                     "T" "████████╗\n╚══██╔══╝\n   ██║   \n   ██║   \n   ██║   \n   ╚═╝   ",
                                     "U" "██╗   ██╗\n██║   ██║\n██║   ██║\n██║   ██║\n╚██████╔╝\n ╚═════╝ ",
                                     "V" "██╗   ██╗\n██║   ██║\n██║   ██║\n╚██╗ ██╔╝\n ╚████╔╝ \n  ╚═══╝  ",
                                     "W" "██╗    ██╗\n██║    ██║\n██║ █╗ ██║\n██║███╗██║\n╚███╔███╔╝\n ╚══╝╚══╝ ",
                                     "X" "██╗  ██╗\n╚██╗██╔╝\n ╚███╔╝ \n ██╔██╗ \n██╔╝ ██╗\n╚═╝  ╚═╝",
                                     "Y" "██╗   ██╗\n╚██╗ ██╔╝\n ╚████╔╝ \n  ╚██╔╝  \n   ██║   \n   ╚═╝   ",
                                     "Z" "███████╗\n╚══███╔╝\n  ███╔╝ \n ███╔╝  \n███████╗\n╚══════╝",
                                     "[" "███╗\n██╔╝\n██║ \n██║ \n███╗\n╚══╝",
                                     "\\" "\n\n\n\n\n\n",
                                     "]" "███╗\n╚██║\n ██║\n ██║\n███║\n╚══╝",
                                     "^" " ███╗ \n██╔██╗\n╚═╝╚═╝\n      \n      \n      ",
                                     "_" "        \n        \n        \n        \n███████╗\n╚══════╝",
                                     "`" "\n\n\n\n\n\n",
                                     "a" " █████╗ \n██╔══██╗\n███████║\n██╔══██║\n██║  ██║\n╚═╝  ╚═╝",
                                     "b" "██████╗ \n██╔══██╗\n██████╔╝\n██╔══██╗\n██████╔╝\n╚═════╝ ",
                                     "c" " ██████╗\n██╔════╝\n██║     \n██║     \n╚██████╗\n ╚═════╝",
                                     "d" "██████╗ \n██╔══██╗\n██║  ██║\n██║  ██║\n██████╔╝\n╚═════╝ ",
                                     "e" "███████╗\n██╔════╝\n█████╗  \n██╔══╝  \n███████╗\n╚══════╝",
                                     "f" "███████╗\n██╔════╝\n█████╗  \n██╔══╝  \n██║     \n╚═╝     ",
                                     "g" " ██████╗ \n██╔════╝ \n██║  ███╗\n██║   ██║\n╚██████╔╝\n ╚═════╝ ",
                                     "h" "██╗  ██╗\n██║  ██║\n███████║\n██╔══██║\n██║  ██║\n╚═╝  ╚═╝",
                                     "i" "██╗\n██║\n██║\n██║\n██║\n╚═╝",
                                     "j" "     ██╗\n     ██║\n     ██║\n██   ██║\n╚█████╔╝\n ╚════╝ ",
                                     "k" "██╗  ██╗\n██║ ██╔╝\n█████╔╝ \n██╔═██╗ \n██║  ██╗\n╚═╝  ╚═╝",
                                     "l" "██╗     \n██║     \n██║     \n██║     \n███████╗\n╚══════╝",
                                     "m" "███╗   ███╗\n████╗ ████║\n██╔████╔██║\n██║╚██╔╝██║\n██║ ╚═╝ ██║\n╚═╝     ╚═╝",
                                     "n" "███╗   ██╗\n████╗  ██║\n██╔██╗ ██║\n██║╚██╗██║\n██║ ╚████║\n╚═╝  ╚═══╝",
                                     "o" " ██████╗ \n██╔═══██╗\n██║   ██║\n██║   ██║\n╚██████╔╝\n ╚═════╝ ",
                                     "p" "██████╗ \n██╔══██╗\n██████╔╝\n██╔═══╝ \n██║     \n╚═╝     ",
                                     "q" " ██████╗ \n██╔═══██╗\n██║   ██║\n██║▄▄ ██║\n╚██████╔╝\n ╚══▀▀═╝ ",
                                     "r" "██████╗ \n██╔══██╗\n██████╔╝\n██╔══██╗\n██║  ██║\n╚═╝  ╚═╝",
                                     "s" "███████╗\n██╔════╝\n███████╗\n╚════██║\n███████║\n╚══════╝",
                                     "t" "████████╗\n╚══██╔══╝\n   ██║   \n   ██║   \n   ██║   \n   ╚═╝   ",
                                     "u" "██╗   ██╗\n██║   ██║\n██║   ██║\n██║   ██║\n╚██████╔╝\n ╚═════╝ ",
                                     "v" "██╗   ██╗\n██║   ██║\n██║   ██║\n╚██╗ ██╔╝\n ╚████╔╝ \n  ╚═══╝  ",
                                     "w" "██╗    ██╗\n██║    ██║\n██║ █╗ ██║\n██║███╗██║\n╚███╔███╔╝\n ╚══╝╚══╝ ",
                                     "x" "██╗  ██╗\n╚██╗██╔╝\n ╚███╔╝ \n ██╔██╗ \n██╔╝ ██╗\n╚═╝  ╚═╝",
                                     "y" "██╗   ██╗\n╚██╗ ██╔╝\n ╚████╔╝ \n  ╚██╔╝  \n   ██║   \n   ╚═╝   ",
                                     "z" "███████╗\n╚══███╔╝\n  ███╔╝ \n ███╔╝  \n███████╗\n╚══════╝"}},
   "Big Money-nw" {:max-char-width  16,
                   :widest-char     "@",
                   :char-height     10,
                   :chars-array-map {"!" "$$\\ \n$$ |\n$$ |\n$$ |\n\\__|\n    \n$$\\ \n\\__|\n    \n    ",
                                     "\"" "$$\\ $$\\ \n$$ |$$ |\n$$ |$$ |\n\\__|\\__|\n        \n        \n        \n        \n        \n        ",
                                     "#" "  $$\\ $$\\   \n  $$ \\$$ \\  \n$$$$$$$$$$\\ \n\\_$$  $$   |\n$$$$$$$$$$\\ \n\\_$$  $$  _|\n  $$ |$$ |  \n  \\__|\\__|  \n            \n            ",
                                     "$" "   $$\\    \n $$$$$$\\  \n$$  __$$\\ \n$$ /  \\__|\n\\$$$$$$\\  \n \\___ $$\\ \n$$\\  \\$$ |\n\\$$$$$$  |\n \\_$$  _/ \n   \\ _/   ",
                                     "%" "$$\\   $$\\ \n\\__| $$  |\n    $$  / \n   $$  /  \n  $$  /   \n $$  /    \n$$  / $$\\ \n\\__/  \\__|\n          \n          ",
                                     "&" " $$$\\     \n$$ $$\\    \n\\$$$\\ |   \n$$\\$$\\$$\\ \n$$ \\$$ __|\n$$ |\\$$\\  \n $$$$ $$\\ \n \\____\\__|\n          \n          ",
                                     "'" "$$\\ \n$  |\n\\_/ \n    \n    \n    \n    \n    \n    \n    ",
                                     "(" "  $$$\\ \n $$  _|\n$$  /  \n$$ |   \n$$ |   \n\\$$\\   \n \\$$$\\ \n  \\___|\n       \n       ",
                                     ")" "$$$\\   \n \\$$\\  \n  \\$$\\ \n   $$ |\n   $$ |\n  $$  |\n$$$  / \n\\___/  \n       \n       ",
                                     "*" "         \n $$\\$$\\  \n \\$$$  | \n$$$$$$$\\ \n\\_$$$ __|\n $$ $$\\  \n \\__\\__| \n         \n         \n         ",
                                     "+" "          \n   $$\\    \n   $$ |   \n$$$$$$$$\\ \n\\__$$  __|\n   $$ |   \n   \\__|   \n          \n          \n          ",
                                     "," "    \n    \n    \n    \n    \n    \n$$\\ \n$  |\n\\_/ \n    ",
                                     "-" "        \n        \n        \n$$$$$$\\ \n\\______|\n        \n        \n        \n        \n        ",
                                     "." "    \n    \n    \n    \n    \n    \n$$\\ \n\\__|\n    \n    ",
                                     "/" "      $$\\ \n     $$  |\n    $$  / \n   $$  /  \n  $$  /   \n $$  /    \n$$  /     \n\\__/      \n          \n          ",
                                     "0" " $$$$$$\\  \n$$$ __$$\\ \n$$$$\\ $$ |\n$$\\$$\\$$ |\n$$ \\$$$$ |\n$$ |\\$$$ |\n\\$$$$$$  /\n \\______/ \n          \n          ",
                                     "1" "  $$\\   \n$$$$ |  \n\\_$$ |  \n  $$ |  \n  $$ |  \n  $$ |  \n$$$$$$\\ \n\\______|\n        \n        ",
                                     "2" " $$$$$$\\  \n$$  __$$\\ \n\\__/  $$ |\n $$$$$$  |\n$$  ____/ \n$$ |      \n$$$$$$$$\\ \n\\________|\n          \n          ",
                                     "3" " $$$$$$\\  \n$$ ___$$\\ \n\\_/   $$ |\n  $$$$$ / \n  \\___$$\\ \n$$\\   $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "4" "$$\\   $$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$$$$$$$ |\n\\_____$$ |\n      $$ |\n      $$ |\n      \\__|\n          \n          ",
                                     "5" "$$$$$$$\\  \n$$  ____| \n$$ |      \n$$$$$$$\\  \n\\_____$$\\ \n$$\\   $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "6" " $$$$$$\\  \n$$  __$$\\ \n$$ /  \\__|\n$$$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n $$$$$$  |\n \\______/ \n          \n          ",
                                     "7" "$$$$$$$$\\ \n\\____$$  |\n    $$  / \n   $$  /  \n  $$  /   \n $$  /    \n$$  /     \n\\__/      \n          \n          ",
                                     "8" " $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n $$$$$$  |\n$$  __$$< \n$$ /  $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "9" " $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n\\$$$$$$$ |\n \\____$$ |\n$$\\   $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     ":" "    \n    \n$$\\ \n\\__|\n    \n$$\\ \n\\__|\n    \n    \n    ",
                                     ";" "    \n    \n$$\\ \n\\__|\n    \n$$\\ \n$  |\n\\_/ \n    \n    ",
                                     "<" "   $$\\ \n  $$  |\n $$  / \n$$  /  \n\\$$<   \n \\$$\\  \n  \\$$\\ \n   \\__|\n       \n       ",
                                     "=" "      \n      \n$$$$\\ \n\\____|\n$$$$\\ \n\\____|\n      \n      \n      \n      ",
                                     ">" "$$\\    \n\\$$\\   \n \\$$\\  \n  \\$$\\ \n  $$  |\n $$  / \n$$  /  \n\\__/   \n       \n       ",
                                     "?" " $$$$\\  \n$$  $$\\ \n\\__/$$ |\n   $$  |\n  $$  / \n  \\__/  \n  $$\\   \n  \\__|  \n        \n        ",
                                     "@" "    $$$$$$\\     \n  $$$ ___$$$\\   \n $$ _/   \\_$$\\  \n$$ / $$$$$\\ $$\\ \n$$ |$$  $$ |$$ |\n$$ |$$ /$$ |$$ |\n$$ |\\$$$$$$$$  |\n\\$$\\ \\________/ \n \\$$$\\   $$$\\   \n  \\_$$$$$$  _|  \n    \\______/    ",
                                     "A" " $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n$$$$$$$$ |\n$$  __$$ |\n$$ |  $$ |\n$$ |  $$ |\n\\__|  \\__|\n          \n          ",
                                     "B" "$$$$$$$\\  \n$$  __$$\\ \n$$ |  $$ |\n$$$$$$$\\ |\n$$  __$$\\ \n$$ |  $$ |\n$$$$$$$  |\n\\_______/ \n          \n          ",
                                     "C" " $$$$$$\\  \n$$  __$$\\ \n$$ /  \\__|\n$$ |      \n$$ |      \n$$ |  $$\\ \n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "D" "$$$$$$$\\  \n$$  __$$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n$$$$$$$  |\n\\_______/ \n          \n          ",
                                     "E" "$$$$$$$$\\ \n$$  _____|\n$$ |      \n$$$$$\\    \n$$  __|   \n$$ |      \n$$$$$$$$\\ \n\\________|\n          \n          ",
                                     "F" "$$$$$$$$\\ \n$$  _____|\n$$ |      \n$$$$$\\    \n$$  __|   \n$$ |      \n$$ |      \n\\__|      \n          \n          ",
                                     "G" " $$$$$$\\  \n$$  __$$\\ \n$$ /  \\__|\n$$ |$$$$\\ \n$$ |\\_$$ |\n$$ |  $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "H" "$$\\   $$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$$$$$$$ |\n$$  __$$ |\n$$ |  $$ |\n$$ |  $$ |\n\\__|  \\__|\n          \n          ",
                                     "I" "$$$$$$\\ \n\\_$$  _|\n  $$ |  \n  $$ |  \n  $$ |  \n  $$ |  \n$$$$$$\\ \n\\______|\n        \n        ",
                                     "J" "   $$$$$\\ \n   \\__$$ |\n      $$ |\n      $$ |\n$$\\   $$ |\n$$ |  $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "K" "$$\\   $$\\ \n$$ | $$  |\n$$ |$$  / \n$$$$$  /  \n$$  $$<   \n$$ |\\$$\\  \n$$ | \\$$\\ \n\\__|  \\__|\n          \n          ",
                                     "L" "$$\\       \n$$ |      \n$$ |      \n$$ |      \n$$ |      \n$$ |      \n$$$$$$$$\\ \n\\________|\n          \n          ",
                                     "M" "$$\\      $$\\ \n$$$\\    $$$ |\n$$$$\\  $$$$ |\n$$\\$$\\$$ $$ |\n$$ \\$$$  $$ |\n$$ |\\$  /$$ |\n$$ | \\_/ $$ |\n\\__|     \\__|\n             \n             ",
                                     "N" "$$\\   $$\\ \n$$$\\  $$ |\n$$$$\\ $$ |\n$$ $$\\$$ |\n$$ \\$$$$ |\n$$ |\\$$$ |\n$$ | \\$$ |\n\\__|  \\__|\n          \n          ",
                                     "O" " $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n $$$$$$  |\n \\______/ \n          \n          ",
                                     "P" "$$$$$$$\\  \n$$  __$$\\ \n$$ |  $$ |\n$$$$$$$  |\n$$  ____/ \n$$ |      \n$$ |      \n\\__|      \n          \n          ",
                                     "Q" " $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n$$ |  $$ |\n$$ |  $$ |\n$$ $$\\$$ |\n\\$$$$$$ / \n \\___$$$\\ \n     \\___|\n          ",
                                     "R" "$$$$$$$\\  \n$$  __$$\\ \n$$ |  $$ |\n$$$$$$$  |\n$$  __$$< \n$$ |  $$ |\n$$ |  $$ |\n\\__|  \\__|\n          \n          ",
                                     "S" " $$$$$$\\  \n$$  __$$\\ \n$$ /  \\__|\n\\$$$$$$\\  \n \\____$$\\ \n$$\\   $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "T" "$$$$$$$$\\ \n\\__$$  __|\n   $$ |   \n   $$ |   \n   $$ |   \n   $$ |   \n   $$ |   \n   \\__|   \n          \n          ",
                                     "U" "$$\\   $$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "V" "$$\\    $$\\ \n$$ |   $$ |\n$$ |   $$ |\n\\$$\\  $$  |\n \\$$\\$$  / \n  \\$$$  /  \n   \\$  /   \n    \\_/    \n           \n           ",
                                     "W" "$$\\      $$\\ \n$$ | $\\  $$ |\n$$ |$$$\\ $$ |\n$$ $$ $$\\$$ |\n$$$$  _$$$$ |\n$$$  / \\$$$ |\n$$  /   \\$$ |\n\\__/     \\__|\n             \n             ",
                                     "X" "$$\\   $$\\ \n$$ |  $$ |\n\\$$\\ $$  |\n \\$$$$  / \n $$  $$<  \n$$  /\\$$\\ \n$$ /  $$ |\n\\__|  \\__|\n          \n          ",
                                     "Y" "$$\\     $$\\ \n\\$$\\   $$  |\n \\$$\\ $$  / \n  \\$$$$  /  \n   \\$$  /   \n    $$ |    \n    $$ |    \n    \\__|    \n            \n            ",
                                     "Z" "$$$$$$$$\\ \n\\____$$  |\n    $$  / \n   $$  /  \n  $$  /   \n $$  /    \n$$$$$$$$\\ \n\\________|\n          \n          ",
                                     "[" "$$$$\\ \n$$  _|\n$$ |  \n$$ |  \n$$ |  \n$$ |  \n$$$$\\ \n\\____|\n      \n      ",
                                     "\\" "$$\\       \n\\$$\\      \n \\$$\\     \n  \\$$\\    \n   \\$$\\   \n    \\$$\\  \n     \\$$\\ \n      \\__|\n          \n          ",
                                     "]" "$$$$\\ \n\\_$$ |\n  $$ |\n  $$ |\n  $$ |\n  $$ |\n$$$$ |\n\\____|\n      \n      ",
                                     "^" "   $\\    \n  $$$\\   \n $$ $$\\  \n$$  \\$$\\ \n\\__/ \\__|\n         \n         \n         \n         \n         ",
                                     "_" "        \n        \n        \n        \n        \n        \n        \n$$$$$$\\ \n\\______|\n        ",
                                     "`" "$$\\ \n\\$ |\n \\_|\n    \n    \n    \n    \n    \n    \n    ",
                                     "a" "          \n          \n $$$$$$\\  \n \\____$$\\ \n $$$$$$$ |\n$$  __$$ |\n\\$$$$$$$ |\n \\_______|\n          \n          ",
                                     "b" "$$\\       \n$$ |      \n$$$$$$$\\  \n$$  __$$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$$$$$$  |\n\\_______/ \n          \n          ",
                                     "c" "          \n          \n $$$$$$$\\ \n$$  _____|\n$$ /      \n$$ |      \n\\$$$$$$$\\ \n \\_______|\n          \n          ",
                                     "d" "      $$\\ \n      $$ |\n $$$$$$$ |\n$$  __$$ |\n$$ /  $$ |\n$$ |  $$ |\n\\$$$$$$$ |\n \\_______|\n          \n          ",
                                     "e" "          \n          \n $$$$$$\\  \n$$  __$$\\ \n$$$$$$$$ |\n$$   ____|\n\\$$$$$$$\\ \n \\_______|\n          \n          ",
                                     "f" " $$$$$$\\  \n$$  __$$\\ \n$$ /  \\__|\n$$$$\\     \n$$  _|    \n$$ |      \n$$ |      \n\\__|      \n          \n          ",
                                     "g" "          \n          \n $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n$$ |  $$ |\n\\$$$$$$$ |\n \\____$$ |\n$$\\   $$ |\n\\$$$$$$  |\n \\______/ ",
                                     "h" "$$\\       \n$$ |      \n$$$$$$$\\  \n$$  __$$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n\\__|  \\__|\n          \n          ",
                                     "i" "$$\\ \n\\__|\n$$\\ \n$$ |\n$$ |\n$$ |\n$$ |\n\\__|\n    \n    ",
                                     "j" "          \n          \n      $$\\ \n      \\__|\n      $$\\ \n      $$ |\n      $$ |\n      $$ |\n$$\\   $$ |\n\\$$$$$$  |\n \\______/ ",
                                     "k" "$$\\       \n$$ |      \n$$ |  $$\\ \n$$ | $$  |\n$$$$$$  / \n$$  _$$<  \n$$ | \\$$\\ \n\\__|  \\__|\n          \n          ",
                                     "l" "$$\\ \n$$ |\n$$ |\n$$ |\n$$ |\n$$ |\n$$ |\n\\__|\n    \n    ",
                                     "m" "              \n              \n$$$$$$\\$$$$\\  \n$$  _$$  _$$\\ \n$$ / $$ / $$ |\n$$ | $$ | $$ |\n$$ | $$ | $$ |\n\\__| \\__| \\__|\n              \n              ",
                                     "n" "          \n          \n$$$$$$$\\  \n$$  __$$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n\\__|  \\__|\n          \n          ",
                                     "o" "          \n          \n $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n$$ |  $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "p" "          \n          \n $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n$$ |  $$ |\n$$$$$$$  |\n$$  ____/ \n$$ |      \n$$ |      \n\\__|      ",
                                     "q" "          \n          \n $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n$$ |  $$ |\n\\$$$$$$$ |\n \\____$$ |\n      $$ |\n      $$ |\n      \\__|",
                                     "r" "          \n          \n $$$$$$\\  \n$$  __$$\\ \n$$ |  \\__|\n$$ |      \n$$ |      \n\\__|      \n          \n          ",
                                     "s" "          \n          \n $$$$$$$\\ \n$$  _____|\n\\$$$$$$\\  \n \\____$$\\ \n$$$$$$$  |\n\\_______/ \n          \n          ",
                                     "t" "  $$\\     \n  $$ |    \n$$$$$$\\   \n\\_$$  _|  \n  $$ |    \n  $$ |$$\\ \n  \\$$$$  |\n   \\____/ \n          \n          ",
                                     "u" "          \n          \n$$\\   $$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "v" "           \n           \n$$\\    $$\\ \n\\$$\\  $$  |\n \\$$\\$$  / \n  \\$$$  /  \n   \\$  /   \n    \\_/    \n           \n           ",
                                     "w" "              \n              \n$$\\  $$\\  $$\\ \n$$ | $$ | $$ |\n$$ | $$ | $$ |\n$$ | $$ | $$ |\n\\$$$$$\\$$$$  |\n \\_____\\____/ \n              \n              ",
                                     "x" "          \n          \n$$\\   $$\\ \n\\$$\\ $$  |\n \\$$$$  / \n $$  $$<  \n$$  /\\$$\\ \n\\__/  \\__|\n          \n          ",
                                     "y" "          \n          \n$$\\   $$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n\\$$$$$$$ |\n \\____$$ |\n$$\\   $$ |\n\\$$$$$$  |\n \\______/ ",
                                     "z" "          \n          \n$$$$$$$$\\ \n\\____$$  |\n  $$$$ _/ \n $$  _/   \n$$$$$$$$\\ \n\\________|\n          \n          ",
                                     "{" "  $$$\\ \n $$  _|\n $$ |  \n$$$ |  \n\\$$ |  \n $$ |  \n \\$$$\\ \n  \\___|\n       \n       ",
                                     "|" "$$\\ \n$$ |\n$$ |\n\\__|\n$$\\ \n$$ |\n$$ |\n\\__|\n    \n    ",
                                     "}" "$$$\\   \n\\_$$\\  \n  $$ | \n  $$$\\ \n  $$  |\n  $$ / \n$$$  | \n\\___/  \n       \n       ",
                                     "~" " $$$\\ $$\\ \n$$ $$\\$$ |\n$$ \\$$$  |\n\\__|\\___/ \n          \n          \n          \n          \n          \n          ",
                                     "Ä" "  $\\ $\\   \n  \\_|\\_|  \n $$$$$$\\  \n \\____$$\\ \n $$$$$$$ |\n$$  __$$ |\n\\$$$$$$$ |\n \\_______|\n          \n          ",
                                     "Ö" "  $\\ $\\   \n  \\_|\\_|  \n $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n$$ |  $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "Ü" "  $\\ $\\   \n  \\_|\\_|  \n$$\\   $$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "ä" "  $\\ $\\   \n  \\_|\\_|  \n $$$$$$\\  \n \\____$$\\ \n $$$$$$$ |\n$$  __$$ |\n\\$$$$$$$ |\n \\_______|\n          \n          ",
                                     "ö" "  $\\ $\\   \n  \\_|\\_|  \n $$$$$$\\  \n$$  __$$\\ \n$$ /  $$ |\n$$ |  $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "ü" "  $\\ $\\   \n  \\_|\\_|  \n$$\\   $$\\ \n$$ |  $$ |\n$$ |  $$ |\n$$ |  $$ |\n\\$$$$$$  |\n \\______/ \n          \n          ",
                                     "ß" " $$$$$$\\  \n$$  __$$\\ \n$$ |  $$ |\n$$ $$$$  |\n$$ \\__$$< \n$$ |  $$ |\n$$ $$$$  |\n$$ \\____/ \n$$ |      \n$$ |      \n\\__|      "}}})

;; 32-126
(def ascii-chars
  [" " 
   "!" 
   "\""
   "#" 
   "$" 
   "%" 
   "&" 
   "'" 
   "(" 
   ")" 
   "*" 
   "+" 
   "," 
   "-" 
   "." 
   "/" 
   "0" 
   "1" 
   "2" 
   "3" 
   "4" 
   "5" 
   "6" 
   "7" 
   "8" 
   "9" 
   ":" 
   ";" 
   "<" 
   "=" 
   ">" 
   "?" 
   "@"             
   "A"             
   "B"             
   "C"             
   "D"             
   "E"             
   "F"             
   "G"             
   "H"             
   "I"             
   "J"             
   "K"             
   "L"             
   "M"             
   "N"             
   "O"             
   "P"             
   "Q"             
   "R"             
   "S"             
   "T"             
   "U"             
   "V"             
   "W"             
   "X"             
   "Y"             
   "Z"             
   "["             
   "\\"             
   "]"             
   "^"             
   "_"
   "`"
   "a"
   "b"
   "c"
   "d"
   "e"
   "f"
   "g"
   "h"
   "i"
   "j"
   "k"
   "l"
   "m"
   "n"
   "o"
   "p"
   "q"
   "r"
   "s"
   "t"
   "u"
   "v"
   "w"
   "x"
   "y"
   "z"
   "{"
   "|"
   "}"
   "~"
   "Ä"
   "Ö"
   "Ü"
   "ä"
   "ö"
   "ü"
   "ß"])
